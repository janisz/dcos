#!/usr/bin/env groovy

def builders = [:]

node('linux') {
  checkout scm

  def exampleWorkloadA = load 'workloads/example-team-1/example-workload-A/workload-test.groovy'
  builders['example-team-1 :: example-workload-A'] = {
      exampleWorkloadA.execute()
  }
  def example-workload-B = load 'workloads/example-team-2/example-workload-B/workload-test.groovy'
  builders['example-team-2 :: example-workload-B'] = {
      exampleWorkloadB.execute()
  }
}

parallel builders
